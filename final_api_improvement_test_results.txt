    Finished `release` profile [optimized] target(s) in 0.15s

running 23 tests
Update failed with status 400. Response: Object {"BadRequest": String("Invalid JSON: missing field `id` at line 1 column 196")}

thread '<unnamed>' panicked at src/attorney/update_attorney.rs:109:5:
assertion `left == right` failed: Update should return 200
  left: 400
 right: 200
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
test test-get-attorney-by-id-not-found                   ... [0m[32mok[0m
test test-get-attorney-requires-district-header          ... [0m[32mok[0m
test test-health-check-returns-json-content-type         ... [0m[32mok[0m
test test-create-attorney-invalid-email                  ... [0m[32mok[0m
test test-create-attorney-with-optional-fields           ... [0m[32mok[0m
test test-update-attorney-success                        ... [0m[31mFAILED[0m
test test-update-attorney-invalid-email                  ... [0m[32mok[0m
test test-create-attorney-missing-required-field         ... [0m[32mok[0m
test test-list-attorneys-placeholder                     ... [0m[32mok[0m
test test-create-attorney-success                        ... [0m[32mok[0m
test test-get-attorney-with-all-fields                   ... [0m[32mok[0m
test test-update-attorney-requires-district-header       ... [0m[32mok[0m
test test-health-check-returns-ok-when-healthy           ... [0m[32mok[0m
test test-health-check-timestamp-is-valid-rfc3339        ... [0m[32mok[0m

thread '<unnamed>' panicked at src/attorney/update_attorney.rs:134:5:
assertion `left == right` failed
  left: 400
 right: 200
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

thread '<unnamed>' panicked at src/attorney/update_attorney.rs:157:5:
assertion `left == right` failed: Should return 404 for non-existent attorney
  left: 400
 right: 404
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
test test-health-check-response-structure                ... [0m[32mok[0m
test test-health-check-no-authentication-required        ... [0m[32mok[0m
test test-create-attorney-requires-district-header       ... [0m[32mok[0m
test test-create-attorney-duplicate-bar-number           ... [0m[32mok[0m
test test-get-attorney-by-id-success                     ... [0m[32mok[0m
test test-update-attorney-add-optional-fields            ... [0m[31mFAILED[0m
test test-update-attorney-not-found                      ... [0m[31mFAILED[0m
test test-delete-attorney-placeholder                    ... [0m[32mok[0m
test test-update-attorney-change-bar-number-to-duplicate ... [0m[32mok[0m

failures:

---- test-update-attorney-success ----
test 'spin-test-test-update-attorney-success' failed 
Caused by: error while executing at wasm backtrace:
    0: 0x1a15590 - config_tests.wasm!abort
    1: 0x1a10fd6 - config_tests.wasm!std::sys::pal::wasi::helpers::abort_internal::hcc3b2e0cde3c9001
    2: 0x1a0f64a - config_tests.wasm!std::process::abort::h0e38511b4c8b6f04
    3: 0x1a0f640 - config_tests.wasm!__rustc[5224e6b81cd82a8f]::__rust_abort
    4: 0x1a1259f - config_tests.wasm!__rustc[5224e6b81cd82a8f]::__rust_start_panic
    5: 0x1a12410 - config_tests.wasm!__rustc[5224e6b81cd82a8f]::rust_panic
    6: 0x1a12395 - config_tests.wasm!std::panicking::rust_panic_with_hook::h085fb375cd657b2f
    7: 0x1a1148b - config_tests.wasm!std::panicking::begin_panic_handler::{{closure}}::he68af7f9d5c53e56
    8: 0x1a113f7 - config_tests.wasm!std::sys::backtrace::__rust_end_short_backtrace::h4c38003a22ca226f
    9: 0x1a11d7c - config_tests.wasm!__rustc[5224e6b81cd82a8f]::rust_begin_unwind
   10: 0x1a16fc8 - config_tests.wasm!core::panicking::panic_fmt::h4e32e8d1cab5f47e
   11: 0x1a189bf - config_tests.wasm!core::panicking::assert_failed_inner::hf7ede4d3870aaaec
   12: 0x1a03a9e - config_tests.wasm!core::panicking::assert_failed::h168e3f8c09ecb509
   13: 0x19fa913 - config_tests.wasm!config_tests::attorney::update_attorney::test_update_attorney_success::hecab30d0b4b16849
   14: 0x1a0475c - config_tests.wasm!spin-test-test-update-attorney-success
Caused by: wasm trap: wasm `unreachable` instruction executed

---- test-update-attorney-add-optional-fields ----
test 'spin-test-test-update-attorney-add-optional-fields' failed 
Caused by: error while executing at wasm backtrace:
    0: 0x1a15590 - config_tests.wasm!abort
    1: 0x1a10fd6 - config_tests.wasm!std::sys::pal::wasi::helpers::abort_internal::hcc3b2e0cde3c9001
    2: 0x1a0f64a - config_tests.wasm!std::process::abort::h0e38511b4c8b6f04
    3: 0x1a0f640 - config_tests.wasm!__rustc[5224e6b81cd82a8f]::__rust_abort
    4: 0x1a1259f - config_tests.wasm!__rustc[5224e6b81cd82a8f]::__rust_start_panic
    5: 0x1a12410 - config_tests.wasm!__rustc[5224e6b81cd82a8f]::rust_panic
    6: 0x1a12395 - config_tests.wasm!std::panicking::rust_panic_with_hook::h085fb375cd657b2f
    7: 0x1a1148b - config_tests.wasm!std::panicking::begin_panic_handler::{{closure}}::he68af7f9d5c53e56
    8: 0x1a113f7 - config_tests.wasm!std::sys::backtrace::__rust_end_short_backtrace::h4c38003a22ca226f
    9: 0x1a11d7c - config_tests.wasm!__rustc[5224e6b81cd82a8f]::rust_begin_unwind
   10: 0x1a16fc8 - config_tests.wasm!core::panicking::panic_fmt::h4e32e8d1cab5f47e
   11: 0x1a18a2e - config_tests.wasm!core::panicking::assert_failed_inner::hf7ede4d3870aaaec
   12: 0x1a03a9e - config_tests.wasm!core::panicking::assert_failed::h168e3f8c09ecb509
   13: 0x19fb078 - config_tests.wasm!config_tests::attorney::update_attorney::test_update_attorney_add_optional_fields::hdd6a862b453ee5d3
   14: 0x1a0474d - config_tests.wasm!spin-test-test-update-attorney-add-optional-fields
Caused by: wasm trap: wasm `unreachable` instruction executed

---- test-update-attorney-not-found ----
test 'spin-test-test-update-attorney-not-found' failed 
Caused by: error while executing at wasm backtrace:
    0: 0x1a15590 - config_tests.wasm!abort
    1: 0x1a10fd6 - config_tests.wasm!std::sys::pal::wasi::helpers::abort_internal::hcc3b2e0cde3c9001
    2: 0x1a0f64a - config_tests.wasm!std::process::abort::h0e38511b4c8b6f04
    3: 0x1a0f640 - config_tests.wasm!__rustc[5224e6b81cd82a8f]::__rust_abort
    4: 0x1a1259f - config_tests.wasm!__rustc[5224e6b81cd82a8f]::__rust_start_panic
    5: 0x1a12410 - config_tests.wasm!__rustc[5224e6b81cd82a8f]::rust_panic
    6: 0x1a12395 - config_tests.wasm!std::panicking::rust_panic_with_hook::h085fb375cd657b2f
    7: 0x1a1148b - config_tests.wasm!std::panicking::begin_panic_handler::{{closure}}::he68af7f9d5c53e56
    8: 0x1a113f7 - config_tests.wasm!std::sys::backtrace::__rust_end_short_backtrace::h4c38003a22ca226f
    9: 0x1a11d7c - config_tests.wasm!__rustc[5224e6b81cd82a8f]::rust_begin_unwind
   10: 0x1a16fc8 - config_tests.wasm!core::panicking::panic_fmt::h4e32e8d1cab5f47e
   11: 0x1a189bf - config_tests.wasm!core::panicking::assert_failed_inner::hf7ede4d3870aaaec
   12: 0x1a03a9e - config_tests.wasm!core::panicking::assert_failed::h168e3f8c09ecb509
   13: 0x19fb6cb - config_tests.wasm!config_tests::attorney::update_attorney::test_update_attorney_not_found::ha44994a747b1abb3
   14: 0x1a0473e - config_tests.wasm!spin-test-test-update-attorney-not-found
Caused by: wasm trap: wasm `unreachable` instruction executed


failures:
    test-update-attorney-success
    test-update-attorney-add-optional-fields
    test-update-attorney-not-found

test result: [0m[31mFAILED[0m. 20 passed; 3 failed; 0 ignored; 0 measured; 0 filtered out; finished in 35.14s

